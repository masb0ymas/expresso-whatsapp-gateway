<!DOCTYPE html>
<html>
  <head>
    <title>Whatsapp API by masb0ymas</title>
  </head>
  <body>
    <div id="app">
      <h1>Whatsapp API</h1>
      <p>Created By masb0ymas</p>
      <img src="" alt="QR Code" id="qrcode" />

      <h3>Logs :</h3>
      <ul class="logs"></ul>

      <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
      ></script>

      <script
        src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"
        integrity="sha512-PU5S6BA03fRv1Q5fpwXjg5nlRrgdoguZ74urFInkbABMCENyx5oP3hrDzYMMPh3qdLdknIvrGj3yqZ4JuU7Nag=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
      ></script>

      <script>
        $(document).ready(function () {
          var socket = io.connect()
          // var socket = io.connect('http://localhost:8000', {
          //   path: '/socket.io',
          // })

          socket.on('message', function (msg) {
            $('.logs').append($('<li>').text(msg))
          })

          socket.on('qr', function (src) {
            $('#qrcode').attr('src', src)
            $('#qrcode').show()
          })

          socket.on('ready', function (data) {
            $('#qrcode').hide()
          })

          socket.on('authenticated', function (data) {
            $('#qrcode').hide()
          })
        })
      </script>
    </div>
  </body>
</html>
